<div ng-controller="vehiclesCtrl" ng-init="fetchData()" class="text-center">
    <div class="container">
        <h2>SWAPI vehicles list</h2>
    </div>
    <prog-bar show="loading"></prog-bar> 
    <table class="table table-bordered table-hover">
        <thead>
            <tr class="info">
                <th>#</th>
                <th>Name</th>
                <th>Model</th>
                <th>Manufacturer</th>
                <th>Cost</th>
                <th>Length</th>
                <th>Max speed</th>
                <th>Crew</th>
                <th>Passengers</th>
                <th>Cargo capacity</th>
                <th>Consumables</th>
                <th>Class</th>
                <th>Pilots</th>
                <th>Films</th>
                <th>Created</th>
                <th>Edited</th>
            </tr>            
        </thead>
        <tbody ng-repeat="vehicle in data.results">
            <tr class="info">
                <td>{{getId(vehicle.url)}}</td>
                <td><a href="#vehicles/{{getId(vehicle.url)}}">{{vehicle.name}}</a></td>
                <td>{{vehicle.model}}</td>
                <td>{{vehicle.manufacturer}}</td>
                <td>{{vehicle.cost_in_credits}}</td>
                <td>{{vehicle.length}}</td>
                <td>{{vehicle.max_atmosphering_speed}}</td>
                <td>{{vehicle.crew}}</td>
                <td>{{vehicle.passengers}}</td>
                <td>{{vehicle.cargo_capacity}}</td>
                <td>{{vehicle.consumables}}</td>
                <td>{{vehicle.vehicle_class}}</td>
                <td>
                    <a  class="label"
                        ng-if="vehicle.pilots.length"
                        ng-click="openDialog(vehicle.pilots, 'Pilots')">
                        pilots...
                    </a>
                    <div ng-if="!vehicle.pilots.length">-</div>
                </td>
                <td>
                    <a  class="label"
                        ng-if="vehicle.films.length"
                        ng-click="openDialog(vehicle.films, 'Films')">
                        films...
                    </a>
                    <div ng-if="!vehicle.films.length"></div>
                </td>
                <td nw-date="vehicle.created"></td>
                <td nw-date="vehicle.edited"></td>
            </tr>
        </tbody>
    </table>
    <pager data="data" fetch="fetchData"></pager>
</div>